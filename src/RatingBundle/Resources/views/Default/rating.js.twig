/**
 * Function to inject <iframe> into <body> with 100x100 px
 * on the bottom right corner with position fixed.
 *
 * @param url
 * @returns {boolean}
 */
function makeIFrame(url) {
    var html_ifrm = document.getElementById('ifrmRating');
    if(!html_ifrm){
        html_ifrm = document.createElement("iframe");
        html_ifrm.id = 'ifrmRating';
        html_ifrm.setAttribute("src", url);
        html_ifrm.setAttribute("align", "center");
        html_ifrm.style.padding         = "0px";
        html_ifrm.style.margin          = "0px";
        html_ifrm.style.border          = "0px";
        html_ifrm.style.width           = "100px";
        html_ifrm.style.height          = "100px";
        html_ifrm.style.color           = '#fff';
        html_ifrm.style.position        = 'fixed';
        html_ifrm.style.bottom          = 0;
        html_ifrm.style.right           = 0;
        html_ifrm.style.zIndex          = 100;
        html_ifrm.style.fontFamily      = 'Arial, Helvetica, sans';
        document.body.appendChild(html_ifrm);
    }else{
        html_ifrm.setAttribute("src", url);
        html_ifrm.style.display="";
    }
    return false;
}
//After load page insert iframe on the body
window.onload = function () {
    // Generate the absolute route
    var url = "{{ url('rating_average', { 'userId': user.id }) | raw }}";
    makeIFrame(url);
}
